<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Rock Paper Scissors JS</title>
    <meta charset="utf-8">
    <script>

      function computerPlay() {
        let rockPaperScissors = ['rock', 'paper', 'scissors'];
        return rockPaperScissors[Math.floor(Math.random()*rockPaperScissors.length)];
      }

      function playRound(playerSelection, computerSelection) {
        playerSelection = playerSelection.toLowerCase();

        if(playerSelection == 'rock') {
          if (computerSelection == 'rock') {
            return [2, "It's a tie of Rocks."];
          } else if(computerSelection == 'paper') {
            return [0, "You loose! Paper beats Rock."];
          }
          else {
            return [1, "You win! Rock beats Scissors."];
          }
        } else if(playerSelection == 'paper') {
          if (computerSelection == 'paper') {
            return [2, "It's a tie of Papers."];
          } else if(computerSelection == 'rock') {
            return [1, "You win! Paper beats Rock."];
          } else {
            return [0, "You loose. Scissors beats Paper."];
          }
        } else {
          if(computerSelection == 'scissors') {
            return [2, "It's a tie of Scissors."];
          } else if(computerSelection == 'rock') {
            return [0, "You loose! Rock beats Scissors."];
          } else {
            return [1, "You win! Scissors beats Paper."];
          }
        }
      }

      function game() {
        let win = 0
        let loose = 0
        let tie = 0

        for (let i = 0; i < 5; i++) {
          let playerSelection = prompt("What is your move?");
          let computerSelection = computerPlay();

          let roundResult = playRound(playerSelection, computerSelection);
          console.log(roundResult[1]);

          if (roundResult[0] == 0) {
            loose += 1;
          } else if (roundResult[0] == 1) {
            win += 1;
          } else {
            tie += 1;
          }

        }

        console.log(`WIN:${win} - LOOSE: ${loose} - TIE: ${tie}`);

        if (win > loose) {
          return "You won.";
        } else if (win < loose) {
          return "You lost."
        } else {
          return "It's a tie."
        }
      }

      console.log(game());

    </script>
  </head>

  <body>
  </body>
</html>